<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <title>Track2Career - #{search.track}</title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="description" content="" />
        <meta name="keywords" content="" />

        <h:outputScript name="js/jquery.min.js"/>
        <h:outputScript name="js/skel.min.js"/>
        <h:outputScript name="js/skel-layers.min.js"/>
        <h:outputScript name="js/init.js"/>
        <h:outputScript name="js/bootstrap.min.js"/>
        
        <!-- external javascript for now -->
        <script src="http://d3js.org/d3.v3.min.js"></script>
        <h:outputScript name="js/dndTree.js"/>

        <h:outputStylesheet name="css/bootstrap.min.css" id="bootstrap-css" />
        <h:outputStylesheet name="css/skel.css" />
        <h:outputStylesheet name="css/style.css" />
        <h:outputStylesheet name="css/style-xlarge.css" />
        <h:outputStylesheet name="css/progressbar.css"/>
        <link rel="shortcut icon" type="image/x-icon" href="#{resource['images/icons/smuicon.ico']}"/>
        <link href='https://fonts.googleapis.com/css?family=PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'/>
        
        <h:outputScript>
            //<![CDATA[
            var a = {"name":"Financial technology","children":[{"name":"Retail Banking & Mobile Technology","children":[{"name":"Emerging FinTech trends","size":1253},{"name":"Retail banking","size":1448},{"name":"Channels","size":1150}]},{"name":"Financial Markets","children":[{"name":"Financial Market Products","size":1695},{"name":"Trade Lifecycle","size":1509},{"name":"Trading Strategies","size":1970}]},{"name":"Digital Payments & Innovation","children":[{"name":"Payment Instruments","size":1599},{"name":"Credit Card Networks","size":1101},{"name":"Clearing and Settlement","size":1376}]},{"name":"Digital Banking Enterprise Architecture #","children":[{"name":"Enterprise Architecture","size":1520},{"name":"Service Oriented Architecture","size":1307},{"name":"Business Process Management","size":1912}]},{"name":"Corporate Banking & Smart Contracts","children":[{"name":"Corporate banking","size":1181},{"name":"Smart contracts","size":1047},{"name":"Blockchain","size":1645}]}]};
            a = #{search.courseInTree};
            
            //]]>
        </h:outputScript>
        <style type="text/css">

            .node {
                cursor: pointer;
            }

            .overlay{
                background-color:#EEE;
            }

            .node circle {
                fill: #fff;
                stroke: steelblue;
                stroke-width: 1.5px;
            }

            .node text {
                font-size:10px;
                font-family:sans-serif;
            }

            .link {
                fill: none;
                stroke: #ccc;
                stroke-width: 1.5px;
            }

            .templink {
                fill: none;
                stroke: red;
                stroke-width: 3px;
            }

            .ghostCircle.show{
                display:block;
            }

            .ghostCircle, .activeDrag .ghostCircle{
                display: none;
            }

        </style>
    </h:head>
    <h:body id="top">
        <f:event type="preRenderView" listener="#{user.checkLoggedIn}" />
        <f:event type="preRenderView" listener="#{search.hasSearchItem}" />
        <header id="header" class="skel-layers-fixed">
            <h1>
                <h:link value="Track2Career" outcome="userhome" />
            </h1>
            <nav id="nav">
                <ul>
                    <li><h:link value="Home" outcome="userhome" /></li>
                    <li><h:link value="Profile" outcome="profile" /></li>
                    <li style="#{user.user.userType eq 'Admin' ? '' : 'display: none;'}"><h:link value="Upload" outcome="upload" rendered="#{user.user.userType eq 'Admin'}" /></li>
                    <li><h:form><h:commandLink value="Logout"  action="#{user.logout()}"/></h:form></li>
                </ul>
            </nav>
        </header>

        <!-- Main -->
        <section id="main" class="wrapper style1">
            <header class="major">
                <h:link value="Search Other Tracks" outcome="userhome" style="position: absolute; left: 165px; margin-top: 10px;" />
                <h2>#{search.track}</h2>
            </header>
            <div class="container">
                <div class="row">
                    <div class="4u">
                        <h2><h:link value="Track Overview" outcome="TrackDetails" style="font-weight: bold;" /></h2>
                    </div>
                    <div class="5u">
                        <h2><h:link value="Track-specific Skills" outcome="TrackSkills" /></h2>
                    </div>
                    <div class="3u">
                        <h2><h:link value="Related Jobs" outcome="TrackRelatedJobs" /></h2>
                    </div>
                    <div id = "tree-container"></div>
                    <div class="12u">
                        <section>
                            <p>Students doing the Digital Business Solutioning Track will learn how to ideate, design and develop IT solutions that will leverage digital technologies (like cloud computing, big data and analytics, mobile networks, social media, Internet of Things) to enhance operational excellence, integrate information-processes-people, and drive product and process innovation.</p>
                            <br/>
                            <p class="courses" style="font-weight: bold; text-decoration: underline;">Courses in this track:</p>

                            <h:form>
                                <ui:repeat var="c" value="#{search.courseList}" varStatus="status">
                                    <article class="search-result row">
                                        <div class="col-xs-12 col-sm-12 col-md-8">
                                            <h3>
                                                <h:commandLink value="#{c.courseId} #{c.courseName}" action="#{course.viewMore}" actionListener="#{course.attrListener}">
                                                    <f:attribute name="courseId" value="#{c.courseId}" />
                                                </h:commandLink>
                                            </h3>
                                        </div>
                                        <div class="col-xs-12 col-sm-12 col-md-4">
                                            <ul class="meta-search">
                                                <li><i class="glyphicon glyphicon-user"></i> <span>Advisor: #{c.instructorName}</span></li>
                                            </ul>
                                        </div>
                                        <span class="clearfix borda"></span>
                                    </article>
                                </ui:repeat>
                            </h:form>
                        </section>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="checkout-wrap">
                <ul class="checkout-bar">
                    <li class="visited first">
                        <h:link value="Search" outcome="userhome" />
                    </li>
                    <li class="active">
                        <h:link value="Track Overview" outcome="TrackDetails" />
                    </li>
                    <li class="next">
                        <h:link value="Track Specific Skills" outcome="TrackSkills" />
                    </li>
                    <li class="next">
                        <h:link value="Track Related Jobs" outcome="TrackRelatedJobs" />
                    </li>
                </ul>
            </div>
        </section>
    </h:body>
</html>
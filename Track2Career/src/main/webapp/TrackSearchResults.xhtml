<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions">
    <h:head>
        <title>Track2Career</title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="description" content="" />
        <meta name="keywords" content="" />

        <h:outputScript name="js/jquery.min.js"/>
        <h:outputScript name="js/skel.min.js"/>
        <h:outputScript name="js/skel-layers.min.js"/>
        <h:outputScript name="js/init.js"/>
        <h:outputScript name="js/bootstrap.min.js"/>

        <h:outputStylesheet name="css/bootstrap.min.css" id="bootstrap-css" />
        <h:outputStylesheet name="css/skel.css" />
        <h:outputStylesheet name="css/style.css" />
        <h:outputStylesheet name="css/style-xlarge.css" />
        <h:outputStylesheet name="css/progressbar.css"/>

        <link href='https://fonts.googleapis.com/css?family=PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'/>
    </h:head>
    <h:body id="top">
        <f:event type="preRenderView" listener="#{user.checkLoggedIn}" />
        <header id="header" class="skel-layers-fixed">
            <h1><a href="#">Track2Career</a></h1>
            <nav id="nav">
                <ul>
                    <li><h:link value="Home" outcome="userhome" /></li>
                    <li><h:link value="Track" outcome="DBSTrackCourses" /></li>
                    <li><h:link value="Jobs" outcome="jobs" /></li>
                    <li><h:link value="Profile" outcome="profile" /></li>
                    <li><h:link value="Upload" outcome="upload" rendered="#{user.user.userType eq 'Admin'}" /></li>
                </ul>
            </nav>
        </header>

        <div class="container">
            <hgroup class="mb20">
                <h1>Search Results</h1>
                <h2 class="lead"><strong class="text-danger">#{flash.keep.no}</strong> courses were were found for Track : <strong class="text-danger">#{flash.keep.track}</strong> </h2>
            </hgroup>
            <br/>
            <section class="col-xs-12 col-sm-6 col-md-12">
                <h:form>
                    <ui:repeat var="c" value="#{flash.keep.courses}" varStatus="status">
                        <article class="search-result row">
                            <div class="col-xs-12 col-sm-12 col-md-8">
                                <h3>
                                    <h:commandLink value="#{c.courseName}" action="#{course.viewMore}">
                                        <f:param name="id" value="#{c.courseId}" />
                                        <f:param name="name" value="#{c.courseName}" />
                                    </h:commandLink>
                                </h3>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-4">
                                <ul class="meta-search">
                                    <li><i class="glyphicon glyphicon-user"></i> <span>Advisor: #{c.instructorName}</span></li>
                                </ul>
                            </div>
                            <span class="clearfix borda"></span>
                        </article>
                    </ui:repeat>
                </h:form>
            </section>

            <hgroup class="mb20">
                <h1>Skills Achievements</h1>
            </hgroup>
            <section class="col-xs-12 col-sm-6 col-md-12">
                <hgroup class="mb20">
                    <h3>Achieved Skills</h3>
                </hgroup>
                <table>
                    <ui:repeat value="#{flash.keep.achievedList}" var="row">
                        <tr>
                            <ui:repeat value="#{row}" var="item">
                                <td>#{item.skillName}</td>
                            </ui:repeat>
                        </tr>
                    </ui:repeat>
                </table>

                <hgroup class="mb20">
                    <h3>Unachieved Skills</h3>
                </hgroup>
                <table>
                    <ui:repeat value="#{flash.keep.unachievedList}" var="row">
                        <tr>
                            <ui:repeat value="#{row}" var="item">
                                <td>#{item.skillName}</td>
                            </ui:repeat>
                        </tr>
                    </ui:repeat>
                </table>
            </section>
        </div>

        <!-- Footer -->
        <div class="checkout-wrap">
            <ul class="checkout-bar">
                <li class="visited first">
                    <h:link value="Search" outcome="userhome" />
                </li>
                <li class="active">
                    <h:link value="Search Result" outcome="TrackSearchResults" />
                </li>
                <li class="next">Track Courses</li>
                <li class="">Skill Analysis</li>
                <li class="">Related Jobs</li>
            </ul>
        </div>
    </h:body>
</html>
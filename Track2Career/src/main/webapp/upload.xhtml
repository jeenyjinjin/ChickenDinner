<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Track2Career</title>
        <meta charset="UTF-8" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="description" content="" />
        <meta name="keywords" content="" />

        <h:outputScript name="js/jquery.min.js"/>
        <h:outputScript name="js/skel.min.js"/>
        <h:outputScript name="js/skel-layers.min.js"/>
        <h:outputScript name="js/init.js"/>
        <link rel="shortcut icon" type="image/x-icon" href="#{resource['images/icons/smuicon.ico']}"/>
        <h:outputStylesheet name="css/skel.css" />
        <h:outputStylesheet name="css/style.css" />
        <h:outputStylesheet name="css/style-xlarge.css" />
        <h:outputStylesheet name="css/styles.css" />
    </h:head>
    <h:body id="top">
        <f:event type="preRenderView" listener="#{user.checkLoggedIn}" />
        <header id="header" class="skel-layers-fixed">
            <h1><a href="#">Track2Career</a></h1>
            <nav id="nav">
                <ul>
                    <li><h:link value="Home" outcome="userhome" /></li>
                    <li><h:link value="Profile" outcome="profile" /></li>
                    <li style="#{user.user.userType eq 'Admin' ? '' : 'display: none;'}"><h:link value="Upload" outcome="upload" rendered="#{user.user.userType eq 'Admin'}" /></li>
                    <li><h:form><h:commandLink value="Logout"  action="#{user.logout()}"/></h:form></li>
                </ul>
            </nav>
        </header>

        <h:form enctype="multipart/form-data">
            <fieldset>
                <legend>CSV File Upload</legend>
                <h:inputHidden id="MAX_FILE_SIZE" value="300000" />

                <div>
                    <h:inputFile value="#{bootstrap.file}" id="fileselect"></h:inputFile>
                    <div id="filedrag">or drop files here</div>
                </div>
                <br/>
                <div id="submitbutton">
                    <h:commandButton value="Upload Files" action="#{bootstrap.processFile}"/>
                    <span style="color: green;">#{bootstrap.successMessage}</span>
                    <span style="color: red;">#{bootstrap.errorMessage}</span>
                </div>
            </fieldset>
        </h:form>

        <div id="messages">
            <p>Status Messages</p>
        </div>

        <h:outputScript name="js/filedrag.js"/>
    </h:body>
</html>